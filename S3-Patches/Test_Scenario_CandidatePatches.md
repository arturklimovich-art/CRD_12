# ТЕСТОВЫЙ СЦЕНАРИЙ S3 - КАНДИДАТЫ-ПАТЧИ
## Цель: Проверка интеграции Attach-CandidatePatch с системой валидации

### Тест-кейсы:

1. **ТК-S3-P1: Прикрепление валидного патча**
   - Создать кандидата-патч с корректными данными
   - Вызвать Attach-CandidatePatch
   - Проверить успешное прикрепление
   - Убедиться в записи события

2. **ТК-S3-P2: Валидация через Kurator**
   - Создать патч с потенциально опасным кодом
   - Проверить блокировку валидатором
   - Убедиться в соответствующем событии

3. **ТК-S3-P3: Привязка к task_id**
   - Создать патч для существующей задачи
   - Проверить корректную привязку
   - Убедиться в обновлении статуса задачи

### Ожидаемые события:
- CANDIDATE_PATCH_ATTACHED
- CANDIDATE_VALIDATION_STARTED  
- CANDIDATE_VALIDATION_PASSED
- CANDIDATE_VALIDATION_FAILED

### Критерии успеха:
- Патчи прикрепляются к корректным task_id
- Валидация работает через Kurator
- События записываются в core.events
- Политики безопасности применяются
