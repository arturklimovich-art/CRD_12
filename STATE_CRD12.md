# STATE_CRD12 — текущее состояние проекта CRD12 / Engineers_IT / TradLab

## 0. Мета
- Дата последнего обновления: (заполнять вручную)
- Основной репозиторий: C:\Users\Artur\Documents\CRD12
- Текущая ветка разработки: feature/roadmap-arturklimovich-20251117
- Цель проекта: платформа CRD12 (Engineers_IT как инструмент, TradLab как трейдинговая лаборатория и Crypto_Compass как витрина)

## 1. Репозитории и ключевые директории
- CRD12 root: C:\Users\Artur\Documents\CRD12
- Основные компоненты (логическое деление):
  - Engineers_IT (оркестратор ИИ-агентов, патчи, Roadmap-контур)
  - TradLab (трейдинговые стратегии, backtest/paper, анализ рынков)
  - Crypto_Compass (розничный продукт / Telegram-канал и витрина результатов)
- Важно: единственный путь-источник истины по коду и структуре — Git-репозиторий CRD12 + Roadmap.

## 2. Инфраструктура и окружения
- ОС: Windows + PowerShell
- Контейнеризация: Docker Desktop
- Основной контейнер БД: crd12_pgvector (PostgreSQL + pgvector), порт 5433 -> 5432
- БД: crd12
- Основной язык автоматизации: PowerShell (внешний контур) + Python внутри контейнеров
- LLM-контур:
  - Облако: ChatGPT (архитектура, стратегии, спецификации)
  - Локальный: Ollama (RTX 3060 6GB, 16GB RAM)
- GPU:
  - NVIDIA GeForce RTX 3060 Laptop GPU, 6 ГБ VRAM
  - CUDA runtime 13.0 установлена, Ollama использует GPU через DirectML

## 3. Модуль Истины и Roadmap
- Engineers_IT: внешний контур для TradLab (орchestrator, патчи, event-sourcing)
- TradLab: отдельный домен (трейдинг-лаборатория), но использует Engineers_IT как инструмент
- Источник истины (SoT):
  - Roadmap / GENERAL_PLAN.* (задачи, этапы, статусы)
  - Навигатор / таблицы в БД (events, tasks, snapshots)
- Базовый принцип:
  - Истина о состоянии системы живёт в Roadmap + БД.
  - Чат и LLM только читают/генерируют, но не являются источником истины.

## 4. Текущие ключевые блоки работы (уровень L1)
- L1 фундамент:
  - Архитектура Engineers_IT
  - Настройка Roadmap и Источника истины
  - Настройка БД и event-sourcing
- L1 для TradLab:
  - Создание базового контура TradLab (стратегии, backtest/paper)
  - Интеграция с Engineers_IT (патч-контур, проверки, отчёты)
- Дополнительно:
  - Контур A (PowerShell-агенты для управления Engineers_IT и TradLab)
  - Bot / Telegram-интеграция для статусов и задач

## 5. Состояние по компонентам (кратко, для LLM)
### 5.1. Engineers_IT
- Реализовано:
  - Оркестратор патчей и smoke-тестов
  - Roadmap-контур (GENERAL_PLAN, SPEC_INDEX и т.п.)
  - Механизм snapshot/restore (PowerShell-скрипты)
- В процессе / требует проверки:
  - Полная связка Roadmap -> Navigator DB -> патчи -> отчёты
  - Модуль Истины для Engineers_IT и TradLab (согласованная модель)

### 5.2. TradLab
- Цель:
  - Лаборатория стратегий (Multit, M-серия, ChainFlow, WWF, Whale- и др.)
  - Backtest + paper trading
- Статус:
  - Есть набор ТЗ и стратегий (версии Multit, M-7, M-8, M-9, M-14 и др.)
  - Нет полностью законченного, стандартизированного контура тестов и хранения результатов в Navigator DB

### 5.3. Crypto_Compass
- Цель:
  - Витрина для розничных пользователей
  - Честные отчёты по стратегиям, риск-оверлеи, обучающий контент
- Статус:
  - Есть канал и идеи по контенту
  - Требуется связка с TradLab (данные, метрики, отчёты)

## 6. Активные приоритеты (на сегодня)
- Упорядочить Roadmap и модуль Истины так, чтобы:
  - Любая задача могла быть однозначно развернута в ТЗ для программиста/агента
  - Результат выполнения задачи записывался в БД и синхронизировался с Roadmap
- Настроить комфортную работу с локальным LLM (Ollama + RTX 3060) для:
  - Анализа кода и ТЗ
  - Генерации спецификаций и отчётов
  - Обработки контекста проекта (через STATE-файл и связанные документы)

## 7. Известные проблемы / риски
- Контекст проекта разросся и плохо помещается в пользовательский чат
- Риск хаоса при одновременном использовании нескольких ИИ-инструментов (ChatGPT, Copilot, Cursor, Ollama)
- Недостаток RAM (16 ГБ) ограничивает использование тяжёлых моделей (12B+)

## 8. Правила работы с контекстом (для LLM)
- Истинное состояние проекта берётся из:
  - STATE_CRD12.md (этот файл, регулярно обновляемый)
  - Roadmap / GENERAL_PLAN.* и связанных SPEC-файлов
  - Навигатор / БД (таблицы задач, событий, снапшотов)
- Чат и LLM:
  - Не подменяют собой Истину
  - Должны опираться на STATE_CRD12.md и явно переданный контекст
- При подготовке задачи для ИИ:
  - Сначала кратко обновить STATE_CRD12.md (если что-то поменялось)
  - Затем формулировать конкретную задачу, используя выдержки из STATE и ТЗ

